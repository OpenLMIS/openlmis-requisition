#%RAML 0.8
---
title: OpenLMIS Requisition API
version: "1.0.0"
baseUri: "http://@baseUrl@@prefix@/api"

documentation:
    - title: Getting Started
      content: Welcome to the OpenLMIS requisition-service documentation.

schemas:
  - comment: |
      {
          "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Comment",
          "description": "A single comment",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisition" },
              "authorId": { "type": "string", "required": false, "title": "authorId" },
              "body": { "type": "string", "required": true, "title": "body" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" }
          }
      }

  - order: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Order",
          "description": "A single order",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisitionCode" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" },
              "createdById": { "type": "object", "$ref": "#/schemas/user", "required": true, "title": "createdBy" },
              "programId": { "type": "string", "required": true, "title": "programId" },
              "requestingFacilityId": { "type": "string", "required": true, "title": "requestingFacilityId" },
              "receivingFacilityId": { "type": "string", "required": true, "title": "receivingFacilityId" },
              "supplyingFacilityId": { "type": "string", "required": true, "title": "supplyingFacilityId" },
              "orderCode": { "type": "string", "required": true, "title": "orderCode" },
              "status": { "type": "object", "$ref": "#/schemas/orderStatus", "required": true, "title": "status" },
              "quotedCost": { "type": "integer", "required": true, "title": "quotedCost" },
              "orderLineItems": { "type": "array", "required": false, "title": "orderLineItems", "items": { "type": "object", "$ref": "#/schemas/orderLineItem" }, "uniqueItems": false }
          }
      }

  - orderLineItem: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "OrderLineItem",
          "description": "A single orderLineItem",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "orderableProductId": { "type": "string", "required": true, "title": "orderableProductId" },
              "orderedQuantity": { "type": "integer", "required": true, "title": "orderedQuantity" },
              "order": { "type": "object", "$ref": "#/schemas/order", "required": false, "title": "order" },
              "filledQuantity": { "type": "integer", "required": true, "title": "filledQuantity" }
          }
      }

  - requisition: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Requisition",
          "description": "A single requisition",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" },
              "facilityId": { "type": "string", "required": true, "title": "facilityId" },
              "programId": { "type": "string", "required": true, "title": "programId" },
              "processingPeriodId": { "type": "string", "required": true, "title": "processingPeriodId" },
              "status": { "type": "string", "required": true, "title": "status" },
              "remarks": { "type": "string", "required": false, "title": "remarks" },
              "emergency": { "type": "boolean", "required": false, "title": "emergency" },
              "supervisoryNodeId": { "type": "string", "required": true, "title": "supervisoryNodeId" },
              "requisitionLineItems": { "type": "array", "required": false, "title": "requisitionLineItems", "items": { "type": "object", "$ref":"#/schemas/requisitionLineItem" }, "uniqueItems": false }
          }
      }

  - requisitionLineItem: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionLineItem",
          "description": "A single requisitionLineItem",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisition" },
              "orderableProductId": { "type": "string", "required": true, "title": "orderableProductId" },
              "stockInHand": { "type": "integer", "required": false, "title": "stockInHand" },
              "beginningBalance": { "type": "integer", "required": false, "title": "beginningBalance" },
              "totalReceivedQuantity": { "type": "integer", "required": false, "title": "totalReceivedQuantity" },
              "totalLossesAndAdjustments": { "type": "integer", "required": false, "title": "totalLossesAndAdjustments" },
              "stockOnHand": { "type": "integer", "required": false, "title": "stockOnHand" },
              "requestedQuantity": { "type": "integer", "required": false, "title": "requestedQuantity" },
              "totalConsumedQuantity": { "type": "integer", "required": false, "title": "totalConsumedQuantity" },
              "requestedQuantityExplanation": { "type": "integer", "required": false, "title": "requestedQuantityExplanation" }
          }
      }

  - requisitionTemplate: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplate",
          "description": "A single requisitionTemplate",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "programId": { "type": "string", "required": true, "title": "programId" },
              "columnsMap": { "type": "array", "required": false, "title": "columnsMap", "items": { "type": "string", "title": "columnsMap" }, "uniqueItems": false }
          }
      }

  - requisitionTemplateColumn: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplateColumn",
          "description": "A single requisitionTemplateColumn",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": false, "title": "name" },
              "label": { "type": "string", "required": false, "title": "label" },
              "indicator": { "type": "string", "required": false, "title": "indicator" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" },
              "isDisplayed": { "type": "boolean", "required": false, "title": "isDisplayed" },
              "source": { "type": "string", "required": false, "title": "source" }
          }
      }

  - convertedRequisitionMap: |
      {
          "type": "array",
          "items": [
              { "type": "object", "$ref": "#/schemas/requisition" },
              { "type": "array", "items": { "type": "object", "$ref": "#/schemas/facility" } }
          ]
      }

  - proofOfDelivery: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProofOfDelivery",
          "description": "A single proofOfDelivery",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "order": { "type": "object", "$ref": "#/schemas/order", "required": true },
              "proofOfDeliveryLineItems": { "type": "array", "required": false, "title": "proofOfDeliveryLineItems", "items": { "type": "object", "$ref": "#/schemas/proofOfDeliveryLineItem" }, "uniqueItems": false },
              "totalShippedPacks": { "type": "integer", "required": false, "title": "totalShippedPacks" },
              "totalReceivedPacks": { "type": "integer", "required": false, "title": "totalReceivedPacks" },
              "totalReturnedPacks": { "type": "integer", "required": false, "title": "totalReturnedPacks" },
              "deliveredBy": { "type": "string", "required": false, "title": "deliveredBy" },
              "receivedBy": { "type": "string", "required": false, "title": "receivedBy" },
              "receivedDate": { "type": "string", "required": false, "title": "receivedDate" }
          }
      }

  - proofOfDeliveryLineItem: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProofOfDeliveryLineItem",
          "description": "A single proofOfDeliveryLineItem",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "orderLineItem": { "type": "object", "$ref": "#/schemas/orderLineItem", "required": true },
              "proofOfDelivery": { "type": "object", "$ref": "#/schemas/proofOfDelivery", "required": true },
              "packToShip": { "type": "integer", "required": false, "title": "packToShip" },
              "quantityShipped": { "type": "integer", "required": false, "title": "quantityShipped" },
              "quantityReceived": { "type": "integer", "required": false, "title": "quantityReceived" },
              "quantityReturned": { "type": "integer", "required": false, "title": "quantityReturned" },
              "replacedProductCode": { "type": "string", "required": false, "title": "replacedProductCode" },
              "notes": { "type": "string", "required": false, "title": "notes" }
          }
      }

  - programDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProgramDto",
          "description": "A single programDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "active": { "type": "boolean", "required": false, "title": "active" },
              "periodsSkippable": { "type": "boolean", "required": false, "title": "periodsSkippable" },
              "showNonFullSupplyTab": { "type": "boolean", "required": false, "title": "showNonFullSupplyTab" }
          }
      }

  - template: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Template",
          "description": "A single template",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": true, "unique": true, "title": "name" },
              "data": { "type": "array", "required": false, "title": "data", "items": { "type": "byte"}, "uniqueItems": false },
              "templateParameters": { "type": "array", "required": false, "title": "templateParameters", "items": { "type": "object", "$ref": "#/schemas/templateParameter" }, "uniqueItems": false },
              "type": { "type": "string", "required": false, "title": "type" },
              "description": { "type": "string", "required": false, "title": "description" }
          }
      }

  - templateParameter: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "TemplateParameter",
          "description": "A single templateParameter",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "template": { "type": "object", "$ref": "#/schemas/template", "required": true },
              "name": { "type": "string", "required": false, "title": "name" },
              "displayName": { "type": "string", "required": false, "title": "displayName" },
              "defaultValue": { "type": "string", "required": false, "title": "defaultValue" },
              "dataType": { "type": "string", "required": false, "title": "dataType" },
              "selectSql": { "type": "string", "required": false, "title": "selectSql" },
              "description": { "type": "string", "required": false, "title": "description" }
          }
      }

  - configurationSetting: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ConfigurationSetting",
          "description": "A single configurationSetting",
          "properties": {
              "key": { "type": "string", "required": true, "title": "key" },
              "value": { "type": "string", "required": true, "title": "value" }
          }
      }

  - orderFileTemplate: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "OrderFileTemplate",
          "description": "A single orderFileTemplate",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "filePrefix": { "type": "string", "required": false, "title": "filePrefix" },
              "headerInFile": { "type": "boolean", "required": false, "title": "headerInFile" },
              "orderFileColumns": { "type": "array", "required": false, "title": "orderFileColumns", "items": { "type": "object", "$ref": "#/schemas/orderFileColumn" }, "uniqueItems": false }
          }
      }

  - orderFileColumn: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "OrderFileColumn",
          "description": "A single orderFileColumn",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "openLmisField": { "type": "boolean", "required": false, "title": "openLmisField" },
              "dataFieldLabel": { "type": "string", "required": false, "title": "dataFieldLabel" },
              "columnLabel": { "type": "string", "required": false, "title": "columnLabel" },
              "include": { "type": "boolean", "required": false, "title": "include" },
              "position": { "type": "integer", "required": false, "title": "position" },
              "format": { "type": "string", "required": false, "title": "format" },
              "nested": { "type": "string", "required": false, "title": "nested" },
              "keyPath": { "type": "string", "required": false, "title": "keyPath" },
              "related": { "type": "string", "required": false, "title": "related" },
              "relatedKeyPath": { "type": "string", "required": false, "title": "relatedKeyPath" },
              "orderFileTemplate": {"type": "object", "$ref": "#/schemas/orderFileTemplate", "required": true}
          }
      }

traits:
    - secured:
          queryParameters:
              access_token:
                  displayName: access_token
                  description: OAuth2 access token
                  type: string
                  required: true
                  repeat: false

resourceTypes:
    - collection:
        get:
            is: [ secured ]
            responses:
                200:
                  description: Collection retrieved successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
                404:
                  description: Collection is empty.
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                201:
                  description: Item created successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
    - member:
        get:
            is: [ secured ]
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        delete:
            is: [ secured ]
            responses:
                200:

/orders:
    displayName: Order
    get:
        is: [ secured ]
        description: Get all orders.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Creates new order.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen order.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen order.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing order.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        /csv:
            get:
                is: [ secured ]
                description: Export Order to csv.
                responses:
                  200:
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                      Content-Disposition:
                    body:
                      text/csv:
                  400:
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                  500:
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /search:
            get:
                is: [ secured ]
                description: Find Orders with matched parameters.
                queryParameters:
                    supplyingFacility:
                        displayName: supplyingFacility
                        description: supplyingFacility ID
                        type: string
                        required: true
                        repeat: false
                    requestingFacility:
                        displayName: requestingFacility
                        description: requestingFacility ID
                        type: string
                        required: false
                        repeat: false
                    program:
                        displayName: program
                        description: program ID
                        type: string
                        required: false
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
    /{id}/print:
        uriParameters:
            id:
                displayName: orderId
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Print all order line items from an order to a csv or pdf file.
            queryParameters:
                format:
                    displayName: format
                    type: string
                    required: true
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                      Content-Disposition:
                    body:
                      application/pdf:
                      text/csv:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/finalize:
            uriParameters:
                id:
                    displayName: orderId
                    type: string
                    required: true
                    repeat: false
            put:
                is: [ secured ]
                description: Finalize chosen order.
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
    /requisitions:
        post:
            is: [ secured ]
            description: Convert Requisition list to orders.
            body:
              application/json:
            responses:
                "201":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/orderLineItems:
    displayName: Order Line Items
    get:
        is: [ secured ]
        description: Get all orderLineItems.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Creates new orderLineItem.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen orderLineItem.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen orderLineItem.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing orderLineItem.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/requisitions:
    displayName: Requisition
    /initiate:
        post:
            is: [ secured ]
            description: Initiate requisition.
            queryParameters:
                program:
                    displayName: program
                    type: string
                    required: true
                    repeat: false
                facility:
                    displayName: facility
                    type: string
                    required: true
                    repeat: false
                suggestedPeriod:
                    displayName: suggestedPeriod
                    type: string
                    required: false
                    repeat: false
                emergency:
                    displayName: emergency
                    type: boolean
                    required: true
                    repeat: false
            responses:
                "201":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
    /submitted:
        get:
            is: [ secured ]
            description: Get all requisitions with submitted status.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen requisition.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing requisition.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
    /{id}/skip:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Skip chosen requisition period.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/reject:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Reject requisition which is waiting for approval.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
    /{id}/submit:
            post:
                is: [ secured ]
                description: Submit earlier initiated requisition.
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
    /{id}/authorize:
            uriParameters:
                id:
                    displayName: requisition Id
                    type: string
                    required: true
                    repeat: false
            post:
                is: [ secured ]
                description: Authorize submitted requisition.
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          text/plain:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
    /search:
        get:
            is: [ secured ]
            description: Find requisitions matching all of provided parameters.
            queryParameters:
                facility:
                    displayName: facility
                    type: string
                    required: false
                    repeat: false
                program:
                    displayName: program
                    type: string
                    required: false
                    repeat: false
                createdDateFrom:
                    displayName: createdDateFrom
                    type: string
                    required: false
                    repeat: false
                createdDateTo:
                    displayName: createdDateTo
                    type: string
                    required: false
                    repeat: false
                processingPeriod:
                    displayName: processingPeriod
                    type: string
                    required: false
                    repeat: false
                supervisoryNode:
                    displayName: supervisoryNode
                    type: string
                    required: false
                    repeat: false
                requisitionStatus:
                    displayName: supervisoryNode
                    type: string
                    required: false
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/approve:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Approve specified by id requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /requisitions-for-approval:
        get:
            is: [ secured ]
            description: Get requisitions to approve for right supervisor.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                          schema: convertedRequisitionMap
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /requisitions-for-convert:
        get:
            is: [ secured ]
            description: Get requisitions to approve for right supervisor.
            queryParameters:
                filterValue:
                    displayName: filterValue
                    type: string
                    required: false
                    repeat: false
                filterBy:
                    displayName: filterBy
                    type: string
                    required: false
                    repeat: false
                sortBy:
                    displayName: sortBy
                    type: string
                    required: false
                    repeat: false
                descending:
                    displayName: descending
                    type: boolean
                    required: false
                    repeat: false
                pageNumber:
                    displayName: pageNumber
                    type: integer
                    required: false
                    repeat: false
                pageSize:
                    displayName: pageSize
                    type: integer
                    required: false
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /{id}/comments:
        uriParameters:
            id:
                displayName: id
                description: requisition id
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Get all comments for specified requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        post:
            is: [ secured ]
            description: Add comment to the requisition.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /comments/{id}:
        uriParameters:
            id:
                displayName: id
                description: comment id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete comment from requisition.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen comment from requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update comment.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /approved/search:
            get:
                is: [ secured ]
                description: Find approved requisitions matching all of provided parameters like sorting,
                              filtering and paging.
                queryParameters:
                    filterValue:
                        displayName: filterValue
                        type: string
                        required: true
                        repeat: false
                    filterBy:
                        displayName: filterBy
                        type: string
                        required: true
                        repeat: false
                    sortBy:
                        displayName: sortBy
                        type: string
                        required: true
                        repeat: false
                    descending:
                        displayName: descending
                        type: boolean
                        required: true
                        repeat: false
                    pageNumber:
                        displayName: pageNumber
                        type: integer
                        required: true
                        repeat: false
                    pageSize:
                        displayName: pageSize
                        type: integer
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
    /requisitions/periods-for-initiate:
            get:
                is: [ secured ]
                description: Find periods for initiate requisition.
                queryParameters:
                    programId:
                        displayName: program
                        type: string
                        required: true
                        repeat: false
                    facilityId:
                        displayName: facility
                        type: string
                        required: true
                        repeat: false
                    emergency:
                        displayName: emergency
                        type: boolean
                        required: true
                        repeat: false

/requisitionTemplates:
    displayName: Requisition Template
    get:
        is: [ secured ]
        description: Get all requisitionTemplates.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Creates new requisitionTemplate.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen requisitionTemplate.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen requisitionTemplate.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing requisitionTemplate.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
    /search:
        get:
            is: [ secured ]
            description: Find requisition templates with matched parameters.
            queryParameters:
                program:
                    displayName: program
                    description: program ID
                    type: string
                    required: false
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/orderNumberConfigurations:
    displayName: OrderNumberConfiguration
    get:
        is: [ secured ]
        description: Get OrderNumberConfiguration.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Create or Update OrderNumberConfiguration.
        body:
            application/json:
        responses:
          200:
            headers:
              X-Content-Type-Options:
              X-XSS-Protection:
            body:
              application/json:
          400:
            headers:
              X-Content-Type-Options:
              X-XSS-Protection:
            body:
              application/json:
/proofOfDeliveries:
    displayName: Proof Of Delivery
    get:
        is: [ secured ]
        description: Get all proofOfDeliveries.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Creates new proofOfDelivery.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen proofOfDelivery.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen proofOfDelivery.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing proofOfDelivery.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/print:
        uriParameters:
              id:
                  displayName: proofOfDeliveryId
                  type: string
                  required: true
                  repeat: false
        get:
            is: [ secured ]
            description: Print proof of delivery to a pdf file.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/pdf:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/proofOfDeliveryLineItems:
    displayName: Proof Of Delivery Line Items
    get:
        is: [ secured ]
        description: Get all proofOfDeliveryLineItems.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Creates new proofOfDeliveryLineItem.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen proofOfDeliveryLineItem.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen proofOfDeliveryLineItem.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing proofOfDeliveryLineItem.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/templates:
    displayName: Report Template
    post:
          is: [ secured ]
          description: Add report template to database.
          body:
              multipart/form-data:
                formParameters:
                    file:
                         displayName: Template with ".jrxml" format
                         type: file
                         required: false
                         repeat: false
                    name:
                         displayName: Name of Template in database
                         type: string
                         required: false
                         repeat: false
                    description:
                         displayName: Descryption of Template
                         type: string
                         required: false
                         repeat: false
          responses:
              "200":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              "500":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
    get:
        is: [ secured ]
        description: Get all templates.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen template.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "409":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        get:
            is: [ secured ]
            description: Get chosen template.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        put:
            is: [ secured ]
            description: Update existing template.
            body:
                application/json:
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

/settings:
    displayName: Settings.
    /{key}:
          uriParameters:
            key:
                displayName: key
                type: string
                required: true
                repeat: false
          get:
             is: [ secured ]
             description: Get chosen setting.
             responses:
                 "200":
                     headers:
                       X-Content-Type-Options:
                       X-XSS-Protection:
                     body:
                         application/json:
                 "404":
                     headers:
                       X-Content-Type-Options:
                       X-XSS-Protection:

/orderFileTemplates:
    displayName: OrderFileTemplate
    get:
        is: [ secured ]
        description: Get OrderFileTemplate.
        responses:
            "200":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "404":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
    post:
        is: [ secured ]
        description: Create or update orderFileTemplate.
        body:
            application/json:
        responses:
            "201":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
            "400":
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:

/proofOfDeliveryTemplates:
    displayName: Proof of delivery report template.
    post:
          is: [ secured ]
          description: Save Proof Of Delivery report template in database.
          body:
              multipart/form-data:
                formParameters:
                    file:
                         displayName: Template with ".jrxml" format
                         type: file
                         required: false
                         repeat: false
          responses:
              "200":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              "500":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
    get:
          is: [ secured ]
          description: Download Proof Of Delivery report template with jrxml format.
          responses:
              "200":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/xml:
              "404":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              "500":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
